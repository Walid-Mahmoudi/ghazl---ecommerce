!function(i){(OUWooMenuCart=function(t){this.selector=t.selector,this.trigger=t.trigger,this.init()}).prototype={selector:"",trigger:"",init:function(){this._visibility();var t=i(".oumc-wrapper").attr("data-ajaxonsinglebtn"),t=(void 0!==t&&"yes"==t&&i(document).on("click",".single_add_to_cart_button",function(t){if("undefined"!=typeof($productType=i(t.currentTarget).closest(".type-product"))&&!$productType.hasClass("product-type-external")){if(t.preventDefault(),"undefined"==typeof wc_add_to_cart_params)return!1;var e,o=i(this),a=o.closest("form.cart"),t=a.serializeArray(),r=!1,c=a.find("input[name=variation_id]").val()||0;i.each(t,function(t,e){if(("productID"===e.name||"add-to-cart"===e.name)&&e.value)return!(r=!0)}),r||(e=!!(e=a.attr("action").match(/add-to-cart=([0-9]+)/))&&e[1]),(e=o.attr("name")&&"add-to-cart"==o.attr("name")&&o.attr("value")?o.attr("value"):e)&&t.push({name:"add-to-cart",value:e}),t.push({name:"action",value:"ouwoo_ajax_add_to_cart"}),t.push({name:"variation_id",value:c}),i(document.body).trigger("adding_to_cart",[o,t]),i.ajax({type:"post",url:wc_add_to_cart_params.ajax_url,data:i.param(t),beforeSend:function(t){o.removeClass("added").addClass("loading")},complete:function(t){o.addClass("added").removeClass("loading")},success:function(t){t.error&&t.product_url?window.location=t.product_url:(i(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,o]),i("body").trigger("updated_wc_div"),i(".added_to_cart").remove(),a[0].reset())}})}}),"click");("ontouchstart"in window||window.navigator.msPointerEnabled||"ontouchstart"in document.documentElement)&&(t="touchstart"),"hover"===this.trigger&&(i("body").delegate("#"+this.selector,"mouseover",i.proxy(this._showCart,this)),i("body").delegate("#"+this.selector,"mouseout",i.proxy(this._hideCart,this)),i("#"+this.selector+" .oumc-cart-btn").on(t,i.proxy(this._toggleCart,this))),"click"==this.trigger&&i("#"+this.selector+" .oumc-cart-btn").on(t,i.proxy(this._toggleCart,this)),i(".add_to_cart_button,.single_add_to_cart_button").on(t,function(t){i(t.target).addClass("domc-flytocart")}),i(document).on("added_to_cart removed_from_cart",this._visibility),i(document).on("added_to_cart",this._cartFunctionality),i(document).on("removed_from_cart",function(){"undefined"!=typeof wc_add_to_cart_params&&wc_add_to_cart_params.is_cart&&i(document.body).trigger("wc_update_cart"),("yes"==i(".oumc-wrapper").attr("data-checkoutpage")||0<i(".woocommerce-checkout-review-order-table").length)&&i(document.body).trigger("update_checkout")})},_showCart:function(){i("#"+this.selector).find(".oumc-cart-items").addClass("show-menucart")},_hideCart:function(){i("#"+this.selector).find(".oumc-cart-items").removeClass("show-menucart")},_toggleCart:function(t){i("#"+this.selector).find(".oumc-cart-items").toggleClass("show-menucart"),t.stopPropagation()},_visibility:function(){i(".oumc-wrapper").each(function(){var t=i(this).attr("data-oumc-appearance");void 0!==t&&"haveproducts"==t&&(t=i(this).find(".cart-counter").text(),0<parseInt(t)?i(this).closest(".oxy-ou-minicart").removeAttr("style"):i(this).closest(".oxy-ou-minicart").css("display","none"))})},_cartFunctionality:function(){i(".oumc-wrapper").each(function(){var t,e,o,a=(0<i(this).parents(".oxy-header-wrapper").length||0<i(this).parents("header").length)&&"none"!==i(this).parents(".oxy-header-wrapper").css("display")&&"yes"==i(this).attr("data-reveal-popup");a&&(t=i(this),e=setTimeout(function(){t.closest(".oxy-ou-minicart").find(".oumc-cart-items").addClass("show-menucart")},1500),o=setTimeout(function(){clearTimeout(e),t.closest(".oxy-ou-minicart").find(".oumc-cart-items").removeClass("show-menucart")},4500),t.on("mouseover",".oxy-ou-minicart",function(){clearTimeout(o),i(this).find(".oumc-cart-items").addClass("show-menucart")}))}),i(".domc-flytocart").each(function(){var r=i(this);i(".oumc-wrapper").each(function(){var t,e,o,a=(0<i(this).parents(".oxy-header-wrapper").length||0<i(this).parents("header").length)&&"none"!==i(this).parents(".oxy-header-wrapper").css("display");a&&(o=(a=i(this)).attr("data-flytocart"),t=a.attr("data-offsettop"),e=a.attr("data-offsetleft"),void 0===o||"yes"!=o||null==(o=(i(".woocommerce-product-gallery__image.flex-active-slide").length?i(".woocommerce-product-gallery__image.flex-active-slide"):i(".woocommerce-product-gallery__image").length?i(".woocommerce-product-gallery__image"):i(".atc-product").length?i(".atc-product"):r.closest(".product")).find("img").eq(0))&&void 0===o||o.clone().offset({top:o.offset().top,left:o.offset().left}).css({opacity:"0.5",position:"absolute",height:"150px",width:"150px","z-index":"100"}).appendTo(i("body")).animate({top:a.offset().top-parseInt(t),left:a.offset().left-parseInt(e),width:75,height:75},1e3,function(t,e,o,a,r){return 0==e?o:e==r?o+a:(e/=r/2)<1?a/2*Math.pow(2,10*(e-1))+o:a/2*(2-Math.pow(2,-10*--e))+o}).animate({width:0,height:0},function(){i(this).detach(),r.removeClass("domc-flytocart")}))})})}}}(jQuery);