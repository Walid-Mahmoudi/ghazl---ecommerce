!function(d){function a(){d(".ou-cart-button").each(function(){var t=d(this).attr("data-ouocc-appearance");void 0!==t&&"haveproducts"==t&&(t=d(this).find(".cart-counter").text(),0<parseInt(t)?d(this).closest(".oxy-ou-offcanvascart").removeAttr("style"):d(this).closest(".oxy-ou-offcanvascart").css("display","none"))})}function n(){d(".oxy-ou-offcanvascart").each(function(){(headerHeight=headerAfterContentHeight=0)<d(this).find(".ouocc-panel-header").length&&(headerHeight=d(this).find(".ouocc-panel-header").outerHeight(!0)),0<d(this).find(".panel-header-after-content").length&&(headerAfterContentHeight=d(this).find(".panel-header-after-content").outerHeight(!0));var t='<style id="ou-offcanvascart-style'+($selector=d(this).attr("id"))+'">',t=(t=(t+="#"+$selector+" .widget_shopping_cart_content {")+("top: "+(headerAfterContentHeight+headerHeight)+"px"))+"}"+"</style>";0<d("#ou-offcanvascart-style"+$selector).length&&d("#ou-offcanvascart-style"+$selector).remove(),d("head").append(t)})}function i(t,o){var e,a=d(".ouocc-cart-items,.ou-cart-items").find(".oucc-wc-notice");a.length&&0!==a.children().length&&("error"==t&&""!=o&&d(".message-"+t).html(o),d(".message-"+t).removeClass("ouocc-hide-msg"),a.slideDown(),e=setTimeout(function(){a.slideUp("slow",function(){d(".message-"+t).addClass("ouocc-hide-msg"),clearTimeout(e)})},2500))}d(function(){a();var s=1,t=d(".ou-cart-button").attr("data-ajaxonsinglebtn"),o=d(document).height()>d(window).height(),e="ontouchstart"in document.documentElement;o&&!e&&d("#ou-ocp-hide-scrollbar").length<=0&&d("head").append('<style type="text/css" id="ou-ocp-hide-scrollbar">body.ou-panel-cart-active{margin-right: '+(window.innerWidth-document.body.clientWidth)+"px!important;}</style>"),void 0!==t&&"yes"==t&&d(document).on("click",".single_add_to_cart_button",function(t){var o,e,a,c,r;"undefined"==typeof($productType=d(t.currentTarget).closest(".type-product"))||$productType.hasClass("product-type-external")||(t.preventDefault(),o=d(this),t=(e=o.closest("form.cart")).serializeArray(),a=!1,c=e.find("input[name=variation_id]").val()||0,d.each(t,function(t,o){if(("productID"===o.name||"add-to-cart"===o.name)&&o.value)return!(a=!0)}),a||(r=!!(r=e.attr("action").match(/add-to-cart=([0-9]+)/))&&r[1]),(r=o.attr("name")&&"add-to-cart"==o.attr("name")&&o.attr("value")?o.attr("value"):r)&&t.push({name:"add-to-cart",value:r}),t.push({name:"action",value:"ouwoo_ajax_add_to_cart"}),t.push({name:"variation_id",value:c}),d(document.body).trigger("adding_to_cart",[o,t]),d.ajax({type:"post",url:("undefined"!=typeof wc_add_to_cart_params?wc_add_to_cart_params:woocommerce_params).ajax_url,data:d.param(t),beforeSend:function(t){o.removeClass("added").addClass("loading")},complete:function(t){o.addClass("added").removeClass("loading")},success:function(t){t.error&&t.product_url?window.location=t.product_url:(d(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,o]),d("body").trigger("updated_wc_div"),d(".added_to_cart").remove(),e[0].reset())}}))}),d(".add_to_cart_button,.single_add_to_cart_button").on("click",function(t){d(t.target).addClass("do-flytocart")}),d(document.body).on("focusin",".ouocc-qty",function(t){s=d(t.currentTarget).val()}),d(document.body).on("click tap touchstart",".ouocc-qty-chng",function(t){var o,e,t=d(t.currentTarget),a=t.siblings(".ouocc-qty");a.length&&(o=s=parseFloat(a.val()),e=parseFloat(a.attr("step")),parseFloat(a.attr("min")),parseFloat(a.attr("max")),t=t.hasClass("ouocc-qty-plus")?"add":"less",a.val("add"==t?o+e:o-e).trigger("change"))}),d(document.body).on("change",".ouocc-qty",function(t){if("undefined"==typeof wc_add_to_cart_params)return!1;var o=d(t.currentTarget),e=parseFloat(o.val()),a=parseFloat(o.attr("step")),c=parseFloat(o.attr("min")),r=parseFloat(o.attr("max")),n=!1,u=!1;if(isNaN(e)||e<0||e<c?(n=!0,u="minqty"):r<e?(n=!0,u="maxqty"):e%a!=0&&(n=!0,u="minqty"),n)return o.val(s),void i(u);o.val(e),$row=o.closest(".woocommerce-mini-cart-item"),t.preventDefault(),$row.block({message:null,overlayCSS:{opacity:.6}});c={action:"ouwoo_update_cart_item_quantity",cart_key:o.parents(".ouocc-qty-box").attr("data-cart_item_key"),product_id:o.parents(".ouocc-qty-box").attr("data-product_id"),qty:e};d.ajax({url:wc_add_to_cart_params.ajax_url,type:"POST",data:c,dataType:"json",success:function(t){t.error?(o.val(s),i("error",t.error),$row.unblock()):(d(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,o]),i("update"))},complete:function(){(wc_add_to_cart_params.is_cart||0<d(".oxy-ou-cart-items").length||0<d(".oxy-ou-cart-totals").length)&&d(document.body).trigger("wc_update_cart"),("yes"==d(".ou-cart-button").attr("data-checkoutpage")||0<d(".woocommerce-checkout-review-order-table").length)&&d(document.body).trigger("update_checkout")}})}),d(document.body).on("click",".coupon-code-wrap .coupon-btn",function(t){if("undefined"==typeof wc_add_to_cart_params)return!1;var o=d(t.currentTarget).closest(".coupon-code-wrap").find(".ouocc-coupon-field"),e=o.val();e&&(t.preventDefault(),d(".ouocc-panel-container, .oxy-ou-cart").block({message:null,overlayCSS:{opacity:.6}}),t={security:wc_add_to_cart_params.is_cart?wc_cart_params.apply_coupon_nonce:d(".ou-cart-button,.oucart-coupon").attr("data-coupon-nonce"),coupon_code:e},d.ajax({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","apply_coupon"),data:t,dataType:"html",success:function(t){i("error",t.replace(/(<([^>]+)>)/gi,"")),d(document.body).trigger("applied_coupon",[e]),d(document.body).trigger("wc_fragment_refresh")},complete:function(){d(".ouocc-panel-container, .oxy-ou-cart").unblock(),o.val(""),d(document).trigger("wc_fragment_refresh"),(wc_add_to_cart_params.is_cart||0<d(".oxy-ou-cart-items").length||0<d(".oxy-ou-cart-totals").length)&&d(document.body).trigger("wc_update_cart"),("yes"==d(".ou-cart-button").attr("data-checkoutpage")||0<d(".woocommerce-checkout-review-order-table").length||0<d(".woocommerce-checkout-payment").length)&&d(document.body).trigger("update_checkout")}}))}),d(document.body).on("click",".ouocc-remove-coupon",function(t){if(t.preventDefault(),"undefined"==typeof wc_add_to_cart_params)return!1;d(".ouocc-panel-container, .oxy-ou-cart").block({message:null,overlayCSS:{opacity:.6}});var o={security:wc_add_to_cart_params.is_cart?wc_cart_params.remove_coupon_nonce:d(".ou-cart-button,.oucart-coupon").attr("data-remove-coupon-nonce"),coupon:d(t.currentTarget).attr("data-coupon")};d.ajax({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","remove_coupon"),data:o,dataType:"html",success:function(t){i("error",t.replace(/(<([^>]+)>)/gi,"")),d(document.body).trigger("removed_coupon",[o.coupon]),d(document.body).trigger("updated_cart_totals"),d(document.body).trigger("wc_fragment_refresh")},complete:function(){d(".ouocc-panel-container, .oxy-ou-cart").unblock(),(wc_add_to_cart_params.is_cart||0<d(".oxy-ou-cart-items").length||0<d(".oxy-ou-cart-totals").length)&&d(document.body).trigger("wc_update_cart"),("yes"==d(".ou-cart-button").attr("data-checkoutpage")||0<d(".woocommerce-checkout-review-order-table").length||0<d(".woocommerce-checkout-payment").length)&&(d(document.body).trigger("removed_coupon_in_checkout",[o.coupon]),d(document.body).trigger("update_checkout"))}})}),d(document).on("click tap touchstart",function(t){0===d(t.target).parents(".ouocc-panel-container").length&&(d(".oxy-ou-offcanvascart").removeClass("ou-panel-active"),d("body").removeClass("ou-panel-cart-active"))}),d(".ou-cart-button").each(function(){var t=d(this).attr("data-ouocc-trigger");d(this).on(t,function(t){var o=d(t.currentTarget).closest(".oxy-ou-offcanvascart").attr("id");d("#"+o).toggleClass("ou-panel-active"),d("body").toggleClass("ou-panel-cart-active"),n(),d("#"+o+" .ouocc-shop-button").length&&("close"!=d(t.currentTarget).attr("data-shopbtnurl")&&d("#"+o+" .ouocc-shop-button").attr("href",d(t.currentTarget).attr("data-shopbtnurl")),d("#"+o+" .ouocc-shop-button").text(d(t.currentTarget).attr("data-shopbtntxt"))),t.stopPropagation()})}),d(document).on("click",".oxy-ou-offcanvascart .ouocc-close-panel, .close-ouocc-panel",function(t){t.preventDefault();t=d(this).closest(".oxy-ou-offcanvascart").attr("id");d("#"+t).toggleClass("ou-panel-active"),d("body").toggleClass("ou-panel-cart-active")}),d(document).keyup(function(t){27==t.which&&(d(".oxy-ou-offcanvascart").removeClass("ou-panel-active"),d("body").removeClass("ou-panel-cart-active"))}),d(document).on("added_to_cart",function(){a(),n(),d(".ouocc-panel-container").each(function(){compClass=d(this).closest(".oxy-ou-offcanvascart"),$selector=compClass.attr("id"),t=(0<d(this).parents(".oxy-header-wrapper").length||0<d(this).parents("header").length)&&"none"!==d(this).parents(".oxy-header-wrapper").css("display")||"fixed"==d(this).closest(".oxy-ou-offcanvascart").css("position");var t,o,e,a=d(this).attr("data-reveal"),c=d(this),r=c.attr("data-reveal-autoclose");"yes"===a&&1==t&&(o=setTimeout(function(){c.closest(".oxy-ou-offcanvascart").addClass("ou-panel-active"),d("body").addClass("ou-panel-cart-active"),n()},parseInt(c.attr("data-reveal-delayin"))),"yes"==r&&(e=setTimeout(function(){clearTimeout(o),c.closest(".oxy-ou-offcanvascart").removeClass("ou-panel-active"),d("body").removeClass("ou-panel-cart-active")},parseInt(c.attr("data-reveal-delayout"))),c.mouseenter(function(){clearTimeout(e),c.closest(".oxy-ou-offcanvascart").addClass("ou-panel-active"),d("body").addClass("ou-panel-cart-active"),n()}))),d("#"+$selector+" .ouocc-shop-button").length&&("close"!=d("#"+$selector+" .ou-cart-button").attr("data-shopbtnurl")&&d("#"+$selector+" .ouocc-shop-button").attr("href",d("#"+$selector+" .ou-cart-button").attr("data-shopbtnurl")),d("#"+$selector+" .ouocc-shop-button").text(d("#"+$selector+" .ou-cart-button").attr("data-shopbtntxt")))}),d(".do-flytocart").each(function(){var c=d(this);d(".oxy-ou-offcanvascart").each(function(){var t,o,e,a=(0<d(this).parents(".oxy-header-wrapper").length||0<d(this).parents("header").length)&&"none"!==d(this).parents(".oxy-header-wrapper").css("display")||"fixed"==d(this).css("position");a&&(e=(a=d(this).find(".ou-cart-button")).attr("data-flytocart"),t=a.attr("data-offsettop"),o=a.attr("data-offsetleft"),void 0===e||"yes"!=e||null==(e=(d(".woocommerce-product-gallery__image.flex-active-slide").length?d(".woocommerce-product-gallery__image.flex-active-slide").find("img"):d(".woocommerce-product-gallery__image").length?d(".woocommerce-product-gallery__image").find("img"):d(".atc-product").length?d(".atc-product").find("img"):c.closest(".product").length?c.closest(".product").find("img"):d("img.ct_image")).eq(0))&&void 0===e||e.clone().offset({top:e.offset().top,left:e.offset().left}).css({opacity:"0.5",position:"absolute",height:"150px",width:"150px","z-index":"100",transition:"none"}).appendTo(d("body")).animate({top:a.offset().top-parseInt(t),left:a.offset().left-parseInt(o),width:75,height:75},1500,function(t,o,e,a,c){return 0==o?e:o==c?e+a:(o/=c/2)<1?a/2*Math.pow(2,10*(o-1))+e:a/2*(2-Math.pow(2,-10*--o))+e}).animate({width:0,height:0},function(){d(this).detach(),c.removeClass("do-flytocart")}))})})}),d(document).on("removed_from_cart",function(){a(),i("remove"),d(".ouocc-panel-container").each(function(){$selector=d(this).closest(".oxy-ou-offcanvascart").attr("id"),d("#"+$selector+" .ouocc-shop-button").length&&("close"!=d("#"+$selector+" .ou-cart-button").attr("data-shopbtnurl")&&d("#"+$selector+" .ouocc-shop-button").attr("href",d("#"+$selector+" .ou-cart-button").attr("data-shopbtnurl")),d("#"+$selector+" .ouocc-shop-button").text(d("#"+$selector+" .ou-cart-button").attr("data-shopbtntxt")))}),n(),("undefined"!=typeof wc_add_to_cart_params&&wc_add_to_cart_params.is_cart||0<d(".oxy-ou-cart-items").length||0<d(".oxy-ou-cart-totals").length)&&d(document.body).trigger("wc_update_cart"),("yes"==d(".ou-cart-button").attr("data-checkoutpage")||0<d(".woocommerce-checkout-review-order-table").length||0<d(".woocommerce-checkout-payment").length)&&d(document.body).trigger("update_checkout")})})}(jQuery);